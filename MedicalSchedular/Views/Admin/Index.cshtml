@{
	ViewData["Title"] = "Index Page";
	Layout = null;
}


 <!DOCTYPE html>
<html lang="en" class="" style="height: auto;">
<script>location.href="~/scheduler/admin/login.php"</script><head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Patient Appointment Scheduler System - PHP</title>
	<link rel="icon" href="~/scheduler/uploads/1630631400_clinic-logo.png" />
	<!-- Google Font: Source Sans Pro -->
	<!-- <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,400i,700&amp;display=fallback"> -->
	<!-- Font Awesome -->
	<link rel="stylesheet" href="~/scheduler/plugins/fontawesome-free/css/all.min.css">
	<!-- Ionicons -->
	<!-- <link rel="stylesheet" href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css"> -->
	<!-- Tempusdominus Bootstrap 4 -->
	<link rel="stylesheet" href="~/scheduler/plugins/tempusdominus-bootstrap-4/css/tempusdominus-bootstrap-4.min.css">
	  <!-- DataTables -->
  <link rel="stylesheet" href="~/scheduler/plugins/datatables-bs4/css/dataTables.bootstrap4.min.css">
  <link rel="stylesheet" href="~/scheduler/plugins/datatables-responsive/css/responsive.bootstrap4.min.css">
  <link rel="stylesheet" href="~/scheduler/plugins/datatables-buttons/css/buttons.bootstrap4.min.css">
  <link rel="stylesheet" href="~/scheduler/plugins/datatables-select/css/select.bootstrap4.min.css">
   <!-- Select2 -->
  <link rel="stylesheet" href="~/scheduler/plugins/select2/css/select2.min.css">
  <link rel="stylesheet" href="~/scheduler/plugins/select2-bootstrap4-theme/select2-bootstrap4.min.css">
	<!-- iCheck -->
	<link rel="stylesheet" href="~/scheduler/plugins/icheck-bootstrap/icheck-bootstrap.min.css">
	<!-- JQVMap -->
	<link rel="stylesheet" href="~/scheduler/plugins/jqvmap/jqvmap.min.css">
	<!-- Theme style -->
	<link rel="stylesheet" href="~/scheduler/dist/css/adminlte.css">
	<link rel="stylesheet" href="~/scheduler/dist/css/custom.css">
	<!-- overlayScrollbars -->
	<link rel="stylesheet" href="~/scheduler/plugins/overlayScrollbars/css/OverlayScrollbars.min.css">
	<!-- Daterange picker -->
	<link rel="stylesheet" href="~/scheduler/plugins/daterangepicker/daterangepicker.css">
	<!-- summernote -->
	<link rel="stylesheet" href="~/scheduler/plugins/summernote/summernote-bs4.min.css">
	 <!-- SweetAlert2 -->
  <link rel="stylesheet" href="~/scheduler/plugins/sweetalert2-theme-bootstrap-4/bootstrap-4.min.css">
  <!-- fullCalendar -->
  <link rel="stylesheet" href="~/scheduler/plugins/fullcalendar/main.css">
	<style type="text/css">/* Chart.js */
	  @keyframes chartjs-render-animation{from{opacity:.99}to{opacity:1}}.chartjs-render-monitor{animation:chartjs-render-animation 1ms}.chartjs-size-monitor,.chartjs-size-monitor-expand,.chartjs-size-monitor-shrink{position:absolute;direction:ltr;left:0;top:0;right:0;bottom:0;overflow:hidden;pointer-events:none;visibility:hidden;z-index:-1}.chartjs-size-monitor-expand>div{position:absolute;width:1000000px;height:1000000px;left:0;top:0}.chartjs-size-monitor-shrink>div{position:absolute;width:200%;height:200%;left:0;top:0}
	</style>

	 <!-- jQuery -->
	<script src="~/scheduler/plugins/jquery/jquery.min.js"></script>
	<!-- jQuery UI 1.11.4 -->
	<script src="~/scheduler/plugins/jquery-ui/jquery-ui.min.js"></script>
	<!-- SweetAlert2 -->
	<script src="~/scheduler/plugins/sweetalert2/sweetalert2.min.js"></script>
	<!-- Toastr -->
	<script src="~/scheduler/plugins/toastr/toastr.min.js"></script>
	<!-- fullCalendar 2.2.5 -->
  <script src="~/scheduler/plugins/moment/moment.min.js"></script>
  <script src="~/scheduler/plugins/fullcalendar/main.js"></script>
	<script>
		var _base_url_ = '~/scheduler/';
	</script>
	<script src="~/scheduler/dist/js/script.js"></script>

  </head>  <body class="sidebar-mini layout-fixed control-sidebar-slide-open layout-navbar-fixed dark-mode sidebar-mini-md sidebar-mini-xs" data-new-gr-c-s-check-loaded="14.991.0" data-gr-ext-installed="" style="height: auto;">
	<div class="wrapper">
	 <style>
  .user-img{
		position: absolute;
		height: 27px;
		width: 27px;
		object-fit: cover;
		left: -7%;
		top: -12%;
  }
  .btn-rounded{
		border-radius: 50px;
  }
</style>
<!-- Navbar -->
	  <nav class="main-header navbar navbar-expand navbar-dark border border-light border-top-0  border-left-0 border-right-0 navbar-light text-sm">
		<!-- Left navbar links -->
		<ul class="navbar-nav">
		  <li class="nav-item">
		  <a class="nav-link" data-widget="pushmenu" href="#" role="button"><i class="fas fa-bars"></i></a>
		  </li>
		  <li class="nav-item d-none d-sm-inline-block">
			<a href="~/scheduler/" class="nav-link">Patient Appointment Scheduler System - PHP - Admin</a>
		  </li>
		</ul>
		<!-- Right navbar links -->
		<ul class="navbar-nav ml-auto">
		  <!-- Navbar Search -->
		  <!-- <li class="nav-item">
			<a class="nav-link" data-widget="navbar-search" href="#" role="button">
			<i class="fas fa-search"></i>
			</a>
			<div class="navbar-search-block">
			  <form class="form-inline">
				<div class="input-group input-group-sm">
				  <input class="form-control form-control-navbar" type="search" placeholder="Search" aria-label="Search">
				  <div class="input-group-append">
					<button class="btn btn-navbar" type="submit">
					<i class="fas fa-search"></i>
					</button>
					<button class="btn btn-navbar" type="button" data-widget="navbar-search">
					<i class="fas fa-times"></i>
					</button>
				  </div>
				</div>
			  </form>
			</div>
		  </li> -->
		  <!-- Messages Dropdown Menu -->
		  <li class="nav-item">
			<div class="btn-group nav-link">
				  <button type="button" class="btn btn-rounded badge badge-light dropdown-toggle dropdown-icon" data-toggle="dropdown">
					<span><img src="~/scheduler/dist/img/no-image-available.png" class="img-circle elevation-2 user-img" alt="User Image"></span>
					<span class="ml-3"> </span>
					<span class="sr-only">Toggle Dropdown</span>
				  </button>
				  <div class="dropdown-menu" role="menu">
					<a class="dropdown-item" href="~/scheduler/admin/?page=user"><span class="fa fa-user"></span> My Account</a>
					<div class="dropdown-divider"></div>
					<a class="dropdown-item" href="~/scheduler//classes/Login.php?f=logout"><span class="fas fa-sign-out-alt"></span> Logout</a>
				  </div>
			  </div>
		  </li>
		  <li class="nav-item">
			
		  </li>
		 <!--  <li class="nav-item">
			<a class="nav-link" data-widget="control-sidebar" data-slide="true" href="#" role="button">
			<i class="fas fa-th-large"></i>
			</a>
		  </li> -->
		</ul>
	  </nav>
	  <!-- /.navbar -->     </style>
<!-- Main Sidebar Container -->
	  <aside class="main-sidebar sidebar-dark-primary elevation-4 sidebar-no-expand">
		<!-- Brand Logo -->
		<a href="~/scheduler/admin" class="brand-link bg-primary text-sm">
		<img src="~/scheduler/uploads/1630631400_clinic-logo.png" alt="Store Logo" class="brand-image  elevation-3" style="opacity: .8;width: 2.5rem;height: 2.5rem;max-height: unset">
		<span class="brand-text font-weight-light">PASS-PHP</span>
		</a>
		<!-- Sidebar -->
		<div class="sidebar os-host os-theme-light os-host-overflow os-host-overflow-y os-host-resize-disabled os-host-transition os-host-scrollbar-horizontal-hidden">
		  <div class="os-resize-observer-host observed">
			<div class="os-resize-observer" style="left: 0px; right: auto;"></div>
		  </div>
		  <div class="os-size-auto-observer observed" style="height: calc(100% + 1px); float: left;">
			<div class="os-resize-observer"></div>
		  </div>
		  <div class="os-content-glue" style="margin: 0px -8px; width: 249px; height: 646px;"></div>
		  <div class="os-padding">
			<div class="os-viewport os-viewport-native-scrollbars-invisible" style="overflow-y: scroll;">
			  <div class="os-content" style="padding: 0px 8px; height: 100%; width: 100%;">
				<!-- Sidebar user panel (optional) -->
				<div class="clearfix"></div>
				<!-- Sidebar Menu -->
				<nav class="mt-4">
				   <ul class="nav nav-pills nav-sidebar flex-column text-sm nav-compact nav-flat nav-child-indent nav-collapse-hide-child" data-widget="treeview" role="menu" data-accordion="false">
					<li class="nav-item dropdown">
					  <a href="./" class="nav-link nav-home">
						<i class="nav-icon fas fa-tachometer-alt"></i>
						<p>
						  Dashboard
						</p>
					  </a>
					</li> 
					<li class="nav-item dropdown">
					  <a href="~/scheduler/admin/?page=appointments" class="nav-link nav-appointments">
						<i class="nav-icon fas fa-calendar"></i>
						<p>
						  Appointment List
						</p>
					  </a>
					</li>
					
					<li class="nav-item dropdown">
					  <a href="~/scheduler/admin/?page=schedule_settings" class="nav-link nav-schedule_settings">
						<i class="nav-icon fas fa-calendar-day"></i>
						<p>
						  Schedule Settings
						</p>
					  </a>
					</li>
					<li class="nav-item dropdown">
					  <a href="~/scheduler/admin/?page=user/list" class="nav-link nav-user_list">
						<i class="nav-icon fas fa-users"></i>
						<p>
						  User List
						</p>
					  </a>
					</li>
					<li class="nav-item dropdown">
					  <a href="~/scheduler/admin/?page=system_info" class="nav-link nav-system_info">
						<i class="nav-icon fas fa-cogs"></i>
						<p>
						  Settings
						</p>
					  </a>
					</li>
				  </ul>
				</nav>
				<!-- /.sidebar-menu -->
			  </div>
			</div>
		  </div>
		  <div class="os-scrollbar os-scrollbar-horizontal os-scrollbar-unusable os-scrollbar-auto-hidden">
			<div class="os-scrollbar-track">
			  <div class="os-scrollbar-handle" style="width: 100%; transform: translate(0px, 0px);"></div>
			</div>
		  </div>
		  <div class="os-scrollbar os-scrollbar-vertical os-scrollbar-auto-hidden">
			<div class="os-scrollbar-track">
			  <div class="os-scrollbar-handle" style="height: 55.017%; transform: translate(0px, 0px);"></div>
			</div>
		  </div>
		  <div class="os-scrollbar-corner"></div>
		</div>
		<!-- /.sidebar -->
	  </aside>
	  <script>
	$(document).ready(function(){
	  var page = 'home';
	  var s = '';
	  page = page.replace(/\//g,'_');

	  if($('.nav-link.nav-'+page).length > 0){
			 $('.nav-link.nav-'+page).addClass('active')
		if($('.nav-link.nav-'+page).hasClass('tree-item') == true){
			$('.nav-link.nav-'+page).closest('.nav-treeview').siblings('a').addClass('active')
		  $('.nav-link.nav-'+page).closest('.nav-treeview').parent().addClass('menu-open')
		}
		if($('.nav-link.nav-'+page).hasClass('nav-is-tree') == true){
		  $('.nav-link.nav-'+page).parent().addClass('menu-open')
		}

	  }
	 
	})
  </script>              
		   <!-- Content Wrapper. Contains page content -->
	  <div class="content-wrapper bg-dark pt-3" style="min-height: 567.854px;">
	 
		<!-- Main content -->
		<section class="content  text-dark">
		  <div class="container-fluid">
			<h1 class="text-light">Welcome to Patient Appointment Scheduler System - PHP</h1>
<hr>
<div class="container">
  <div class="card">
	<div class="card-body">
		<div id="calendar"></div>
	</div>
  </div>
</div>
<style>
	.fc-event:hover, .fc-event-selected {
		color: black !important;
	}
	a.fc-list-day-text {
		color: black !important;
	}
	.fc-event:hover, .fc-event-selected {
		color: black !important;
		background: var(--light);
		cursor: pointer;
	}
</style>
<script>
	$(function(){
		$('.select2').select2()
		var Calendar = FullCalendar.Calendar;
		var date = new Date()
		var d    = date.getDate(),
			m    = date.getMonth(),
			y    = date.getFullYear()
		var scheds = $.parseJSON('[{"id":"6","patient_id":"6","date_sched":"2021-09-09 08:00:00","ailment":"Sample Ailment","status":"1","date_created":"2021-09-02 21:58:59","name":"John Smith"},{"id":"10","patient_id":"9","date_sched":"2021-09-03 09:30:00","ailment":"Stomach ache for about 3 days","status":"1","date_created":"2021-09-02 23:14:50","name":"Claire Blake"},{"id":"11","patient_id":"10","date_sched":"2021-09-03 08:00:00","ailment":"Flesh wound","status":"1","date_created":"2021-09-02 23:23:05","name":"Mike Williams"},{"id":"12","patient_id":"11","date_sched":"2021-09-03 13:00:00","ailment":"test","status":"0","date_created":"2021-09-02 23:44:32","name":"Samantha Lou"},{"id":"13","patient_id":"12","date_sched":"2023-02-16 09:42:00","ailment":"This is an ailment","status":"1","date_created":"2023-02-15 21:43:32","name":"dkjdjh"}]');

		var calendarEl = document.getElementById('calendar');

		var calendar = new Calendar(calendarEl, {
						initialView:"dayGridMonth",
						headerToolbar: {
							right : "dayGridWeek,dayGridMonth,listDay prev,next"
						},
						buttonText:{
							dayGridWeek :"Week",
							dayGridMonth :"Month",
							listDay :"Day",
							listWeek :"Week",
						},
						themeSystem: 'bootstrap',
						//Random default events
						events:function(event,successCallback){
							var days = moment(event.end).diff(moment(event.start),'days')
							var events = []
							Object.keys(scheds).map(k=>{
								var bg = 'var(--primary)';
								if(scheds[k].status == 0)
									bg = 'var(--primary)';
								if(scheds[k].status == 1)
									bg = 'var(--success)';
								console.log(bg)
								events.push({
									id          : scheds[k].id,
									title          : scheds[k].name,
									start          : moment(scheds[k].date_sched).format('YYYY-MM-DD[T]HH:mm'),
									backgroundColor: bg, 
									borderColor: bg, 
									});
							})
							console.log(events)
							successCallback(events)

						},
						eventClick:(info)=>{
							uni_modal("Appointment Details","appointments/view_details.php?id="+info.event.id)
						},
						editable  : false,
						selectable: true,
						selectAllow: function(select) {
								console.log(moment(select.start).format('dddd'))
							if(moment().subtract(1, 'day').diff(select.start) < 0 && (moment(select.start).format('dddd') != 'Saturday' && moment(select.start).format('dddd') != 'Sunday'))
								return true;
							else
								return false;
						}
						});

						calendar.render();
						// $('#calendar').fullCalendar()
		$('#location').change(function(){
			location.href = "./?lid="+$(this).val();
		})
	})
</script>
		  </div>
		</section>
		<!-- /.content -->
  <div class="modal fade" id="confirm_modal" role='dialog'>
	<div class="modal-dialog modal-md modal-dialog-centered" role="document">
	  <div class="modal-content">
		<div class="modal-header">
		<h5 class="modal-title">Confirmation</h5>
	  </div>
	  <div class="modal-body">
		<div id="delete_content"></div>
	  </div>
	  <div class="modal-footer">
		<button type="button" class="btn btn-primary" id='confirm' onclick="">Continue</button>
		<button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
	  </div>
	  </div>
	</div>
  </div>
  <div class="modal fade" id="uni_modal" role='dialog'>
	<div class="modal-dialog modal-md modal-dialog-centered" role="document">
	  <div class="modal-content">
		<div class="modal-header">
		<h5 class="modal-title"></h5>
	  </div>
	  <div class="modal-body">
	  </div>
	  <div class="modal-footer">
		<button type="button" class="btn btn-primary" id='submit' onclick="$('#uni_modal form').submit()">Save</button>
		<button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
	  </div>
	  </div>
	</div>
  </div>
  <div class="modal fade" id="uni_modal_right" role='dialog'>
	<div class="modal-dialog modal-full-height  modal-md" role="document">
	  <div class="modal-content">
		<div class="modal-header">
		<h5 class="modal-title"></h5>
		<button type="button" class="close" data-dismiss="modal" aria-label="Close">
		  <span class="fa fa-arrow-right"></span>
		</button>
	  </div>
	  <div class="modal-body">
	  </div>
	  </div>
	</div>
  </div>
  <div class="modal fade" id="viewer_modal" role='dialog'>
	<div class="modal-dialog modal-md" role="document">
	  <div class="modal-content">
			  <button type="button" class="btn-close" data-dismiss="modal"><span class="fa fa-times"></span></button>
			  <img src="" alt="">
	  </div>
	</div>
  </div>
	  </div>
	  <!-- /.content-wrapper -->
	  <script>
  $(document).ready(function(){
	 window.viewer_modal = function($src = ''){
	  start_loader()
	  var t = $src.split('.')
	  t = t[1]
	  if(t =='mp4'){
		var view = $("<video src='"+$src+"' controls autoplay></video>")
	  }else{
		var view = $("<img src='"+$src+"' />")
	  }
	  $('#viewer_modal .modal-content video,#viewer_modal .modal-content img').remove()
	  $('#viewer_modal .modal-content').append(view)
	  $('#viewer_modal').modal({
			  show:true,
			  backdrop:'static',
			  keyboard:false,
			  focus:true
			})
			end_loader()  

  }
	window.uni_modal = function($title = '' , $url='',$size=""){
		start_loader()
		$.ajax({
			url:$url,
			error:err=>{
				console.log()
				alert("An error occured")
			},
			success:function(resp){
				if(resp){
					$('#uni_modal .modal-title').html($title)
					$('#uni_modal .modal-body').html(resp)
					if($size != ''){
						$('#uni_modal .modal-dialog').addClass($size+'  modal-dialog-centered')
					}else{
						$('#uni_modal .modal-dialog').removeAttr("class").addClass("modal-dialog modal-md modal-dialog-centered")
					}
					$('#uni_modal').modal({
					  show:true,
					  backdrop:'static',
					  keyboard:false,
					  focus:true
					})
					end_loader()
				}
			}
		})
	}
	window._conf = function($msg='',$func='',$params = []){
	   $('#confirm_modal #confirm').attr('onclick',$func+"("+$params.join(',')+")")
	   $('#confirm_modal .modal-body').html($msg)
	   $('#confirm_modal').modal('show')
	}
  })
</script>
<footer class="main-footer text-sm">
		<strong>Copyright © 2023. 
		<!-- <a href=""></a> -->
		</strong>
		All rights reserved.
		<div class="float-right d-none d-sm-inline-block">
		  <b>PASS-PHP (by: <a href="mailto:oretnom23@gmail.com" target="blank">oretnom23</a> )</b> v1.0
		</div>
	  </footer>
	</div>
	<!-- ./wrapper -->
   
	<!-- Resolve conflict in jQuery UI tooltip with Bootstrap tooltip -->
	<script>
	  $.widget.bridge('uibutton', $.ui.button)
	</script>
	<!-- Bootstrap 4 -->
	<script src="~/scheduler/plugins/bootstrap/js/bootstrap.bundle.min.js"></script>
	<!-- ChartJS -->
	<script src="~/scheduler/plugins/chart.js/Chart.min.js"></script>
	<!-- Sparkline -->
	<script src="~/scheduler/plugins/sparklines/sparkline.js"></script>
	<!-- Select2 -->
	<script src="~/scheduler/plugins/select2/js/select2.full.min.js"></script>
	<!-- JQVMap -->
	<script src="~/scheduler/plugins/jqvmap/jquery.vmap.min.js"></script>
	<script src="~/scheduler/plugins/jqvmap/maps/jquery.vmap.usa.js"></script>
	<!-- jQuery Knob Chart -->
	<script src="~/scheduler/plugins/jquery-knob/jquery.knob.min.js"></script>
	<!-- daterangepicker -->
	<script src="~/scheduler/plugins/moment/moment.min.js"></script>
	<script src="~/scheduler/plugins/daterangepicker/daterangepicker.js"></script>
	<!-- Tempusdominus Bootstrap 4 -->
	<script src="~/scheduler/plugins/tempusdominus-bootstrap-4/js/tempusdominus-bootstrap-4.min.js"></script>
	<!-- Summernote -->
	<script src="~/scheduler/plugins/summernote/summernote-bs4.min.js"></script>
	<script src="~/scheduler/plugins/datatables/jquery.dataTables.min.js"></script>
	<script src="~/scheduler/plugins/datatables-bs4/js/dataTables.bootstrap4.min.js"></script>
	<script src="~/scheduler/plugins/datatables-responsive/js/dataTables.responsive.min.js"></script>
	<script src="~/scheduler/plugins/datatables-responsive/js/responsive.bootstrap4.min.js"></script>
	<script src="~/scheduler/plugins/datatables-select/js/select.bootstrap4.min.js"></script>
	<!-- overlayScrollbars -->
	<!-- <script src="~/scheduler/plugins/overlayScrollbars/js/jquery.overlayScrollbars.min.js"></script> -->
	<!-- AdminLTE App -->
	<script src="~/scheduler/dist/js/adminlte.js"></script>
	<div class="daterangepicker ltr show-ranges opensright">
	  <div class="ranges">
		<ul>
		  <li data-range-key="Today">Today</li>
		  <li data-range-key="Yesterday">Yesterday</li>
		  <li data-range-key="Last 7 Days">Last 7 Days</li>
		  <li data-range-key="Last 30 Days">Last 30 Days</li>
		  <li data-range-key="This Month">This Month</li>
		  <li data-range-key="Last Month">Last Month</li>
		  <li data-range-key="Custom Range">Custom Range</li>
		</ul>
	  </div>
	  <div class="drp-calendar left">
		<div class="calendar-table"></div>
		<div class="calendar-time" style="display: none;"></div>
	  </div>
	  <div class="drp-calendar right">
		<div class="calendar-table"></div>
		<div class="calendar-time" style="display: none;"></div>
	  </div>
	  <div class="drp-buttons"><span class="drp-selected"></span><button class="cancelBtn btn btn-sm btn-default" type="button">Cancel</button><button class="applyBtn btn btn-sm btn-primary" disabled="disabled" type="button">Apply</button> </div>
	</div>
	<div class="jqvmap-label" style="display: none; left: 1093.83px; top: 394.361px;">Idaho</div>  </body>
</html>
